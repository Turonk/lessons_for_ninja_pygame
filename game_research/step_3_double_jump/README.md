# Шаг 3: Двойной прыжок

## Что добавлено (поверх Шага 2):

### 1. **Система двойного прыжка**
```python
# В конструкторе Player
self.jump_count = 0      # Текущий счетчик прыжков
self.max_jumps = 2       # Максимальное количество прыжков

# В методе jump()
if self.jump_count < self.max_jumps:
    self.vel_y = -JUMP_HEIGHT
    self.is_jumping = True
    self.jump_count += 1

# В методе apply_gravity() при приземлении
self.jump_count = 0  # Сбрасываем счетчик
```

### 2. **Логика работы двойного прыжка**
- **Первый прыжок**: Обычный прыжок с земли
- **Второй прыжок**: Дополнительный прыжок в воздухе
- **Сброс**: Счетчик обнуляется при приземлении
- **Ограничение**: Максимум 2 прыжка подряд

### 3. **Обработка клавиши SPACE**
```python
if event.key == pygame.K_SPACE and not game_over:
    player.jump()
```

### 4. **Обновление перезапуска игры**
- Сбрасывается `jump_count = 0` при перезапуске
- Все параметры прыжка возвращаются в начальное состояние

## Как работает двойной прыжок:

1. **Игрок на земле** (`jump_count = 0`) - может прыгнуть первый раз
2. **В воздухе после первого прыжка** (`jump_count = 1`) - может прыгнуть второй раз
3. **После второго прыжка** (`jump_count = 2`) - больше прыгать нельзя до приземления
4. **Приземление** - счетчик сбрасывается, можно прыгать снова

## Управление:
- **A/D** или **Стрелки влево/вправо** - движение
- **SPACE** - прыжок (до 2 раз подряд)
- **R** - перезапуск при game over
- **ESC** - выход

## Использование в уроках:

Эта система показывает:
- Как работать со счетчиками и ограничениями
- Как реализовать продвинутые механики движения
- Как управлять состояниями персонажа
- Как создавать более интересный геймплей

## Предыдущий шаг:
Посмотрите `../step_2_enemy_ai/` для логики ИИ врага.